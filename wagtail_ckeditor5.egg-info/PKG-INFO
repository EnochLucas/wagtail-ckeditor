Metadata-Version: 2.1
Name: wagtail-ckeditor5
Version: 0.1.0
Summary: CKEditor 5 integration for Wagtail CMS
Home-page: https://github.com/BrightBridgeWeb/wagtail-ckeditor5
Author: Bright Bridge Web
Author-email: services@brightbridgeweb.com
License: UNKNOWN
Platform: UNKNOWN
Classifier: Framework :: Wagtail
Classifier: Framework :: Wagtail :: 4
Classifier: Framework :: Django
Classifier: Programming Language :: Python :: 3
Classifier: License :: OSI Approved :: MIT License
Classifier: Operating System :: OS Independent
Requires-Python: >=3.8
Description-Content-Type: text/markdown

# wagtail-ckeditor5

**CKEditorÂ 5 integration for Wagtail CMS**

> A flexible, settings-driven package that replaces Wagtailâ€™s default rich text editor with CKEditorÂ 5. Supports Wagtail â‰¥Â 4.2.4 and Django â‰¥Â 3.2.

---

## Table of Contents

1. [Introduction](#introduction)
2. [Features](#features)
3. [Requirements](#requirements)
4. [Installation](#installation)
5. [Configuration](#configuration)
   - [Static Asset Paths](#static-asset-paths)
   - [Editor Selection](#editor-selection)
   - [Plugin Imports & References](#plugin-imports--references)
   - [Editor Configuration](#editor-configuration)
6. [Advanced Topics](#advanced-topics)
   - [Transparent Background](#transparent-background)
   - [Font Sizes & Custom Values](#font-sizes--custom-values)
7. [Compatibility & Testing](#compatibility--testing)
8. [Contributing](#contributing)
9. [License](#license)

---

## Introduction

`wagtail-ckeditor5` is a Wagtail extension that lets you swap the builtâ€‘in Draftail editor for **CKEditorÂ 5**. Itâ€™s fully configurable via Django settings, letting you:

- Select a custom CKEditor build (classic, inline, superâ€‘build, or your own).  
- Define which plugins load, how the toolbar looks, and font options.  
- Override global editor behavior without custom widget classes.  

This package is a fork of an earlier integration, modernized for WagtailÂ 4.2.4+ and reworked around `WAGTAILADMIN_RICH_TEXT_EDITORS`.

## Features

- **Settings-driven**: control JS/CSS paths, plugin lists, toolbar layout, font sizes/families via `settings.py`.  
- **CKEditor 5 builds**: use any buildâ€”superâ€‘build with every plugin or a slim custom build.  
- **Global editor replacement**: configure CKEditor as the default rich text editor for all rich text fields.  
- **Advanced styling**: transparent backgrounds, extended font options.  

## Requirements

- Python 3.8+  
- Django â‰¥Â 3.2  
- Wagtail â‰¥Â 4.2.4  
- CKEditorÂ 5 assets (JS/CSS) published in your static files

## Installation

```bash
# From PyPI or your private index:
pip install wagtail-ckeditor5

# Or install from a local checkout:
# (no editable mode required unless you want live code updates)
pip install path/to/wagtail-ckeditor5
```

Then add to your `INSTALLED_APPS`:

```python
INSTALLED_APPS = [
    # ...
    'wagtail_ckeditor',
]
```

Collect static files to include CKEditor assets:

```bash
# Ensure your CKEditor build lives in <project_root>/static/ckeditor5/
python manage.py collectstatic
```

## Configuration

All defaults live in `wagtail_ckeditor/settings.py`. Override in your projectâ€™s `settings.py` using the `WAGTAIL_CKEDITOR_*` namespace.

### Static Asset Paths

```python
WAGTAIL_CKEDITOR_JS = 'ckeditor5/ckeditor5/ckeditor5.js'
WAGTAIL_CKEDITOR_CSS = 'ckeditor5/ckeditor5/ckeditor5.css'
```

### Editor Selection

Tell Wagtail to use CKEditorÂ 5 as the default rich text editor:

```python
WAGTAILADMIN_RICH_TEXT_EDITORS = {
    'default': {
        'WIDGET': 'wagtail_ckeditor.widgets.CKEditor'
    }
}
```

No need to manually attach a widget to individual panelsâ€”this setting applies CKEditor everywhere Wagtail uses its default editor.

### Plugin Imports & References

Configure which CKEditor exports to import and which to register:

```python
WAGTAIL_CKEDITOR_PLUGIN_IMPORTS = [
    'ClassicEditor', 'Essentials', 'Bold', 'Italic', 'Paragraph', 'Font',
    # add or remove plugins to match your build
]

WAGTAIL_CKEDITOR_PLUGIN_REFERENCES = [
    'Essentials', 'Bold', 'Italic', 'Font', 'Paragraph'
]
```

These lists must match the exports in your chosen CKEditor build.

### Editor Configuration

Fineâ€‘tune CKEditor settingsâ€”toolbar layout, fonts, etc.â€”via one dict:

```python
WAGTAIL_CKEDITOR_CONFIG = {
    'licenseKey': 'GPL',
    'toolbar': [
        'undo', 'redo', '|', 'heading', '|',
        'bold', 'italic', 'underline', '|',
        'fontSize', 'fontFamily', 'fontColor', 'fontBackgroundColor', '|',
        'link', 'blockQuote', 'insertTable', 'mediaEmbed', '|',
        'imageUpload', 'codeBlock'
    ],
    'fontSize': {
        'options': [8, 9, 10, 11, 12, 14, 16, 18, 20, 24, 28, 32, 36, 'default'],
        'supportAllValues': True,
    },
    'fontFamily': {
        'options': [
            'default', 'Arial, Helvetica, sans-serif',
            'Georgia, serif', 'Courier New, monospace'
        ],
        'supportAllValues': True,
    }
}
```

## Advanced Topics

### Transparent Background

Override CKEditorâ€™s editable area background in your admin CSS:

```css
/* admin.css */
.ck-editor__editable {
    background-color: transparent !important;
}
```

### Font Sizes & Custom Values

- The `options` array defines dropdown choices.  
- `supportAllValues: True` **allows** pasting arbitrary sizes (e.g. `23px`, `1.5em`), but thereâ€™s no builtâ€‘in text input in the dropdown UI.

Users can copyâ€‘paste custom sizes into the font size dropdown.

## Compatibility & Testing

This package does **not** include tests at present. To verify compatibility:

1. Install against target Wagtail versions:
   ```bash
   pip install wagtail==4.2.4  # then upgrade to 4.x, 5.x
   pip install wagtail-ckeditor5
   ```
2. Spin up a minimal Wagtail project and confirm the editor loads correctly.

## Contributing

Contributions welcome! Please:

1. Fork the repo and create a feature branch.  
2. Add tests for new behavior.  
3. Open a pull request with a clear description.

## Acknowledgements

A warm thank you to Martin Mastny (martin.mastny@vscht.cz), author of [wagtail-ckeditor](https://github.com/mastnym/wagtail-ckeditor) which served as the inspiration for this project.




